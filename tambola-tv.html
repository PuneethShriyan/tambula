<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tambola Live TV Mode</title>

<style>
:root{
  --primary:#6366f1;
  --panel:rgba(255,255,255,.16);
  --gold:#facc15;
  --amber:#f59e0b;
  --dark:#0f172a;
}

html,body{height:100%;margin:0;overflow:hidden;font-family:Poppins,system-ui,sans-serif;}
body{display:flex;justify-content:center;align-items:center;background:radial-gradient(circle at top,#7c83ff,#1e1b4b);color:white;position:relative;}
.bg{position:fixed;inset:0;z-index:-1;background:radial-gradient(circle at 20% 15%,rgba(255,255,255,.18),transparent 35%),radial-gradient(circle at 80% 75%,rgba(99,102,241,.3),transparent 40%);animation:float 10s ease-in-out infinite alternate;}
@keyframes float{from{opacity:.8}to{opacity:1}}

.app{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;padding:2rem;gap:1.5rem;position:relative;}
.status{font-size:clamp(1.5rem,3vw,2.2rem);text-align:center;font-weight:700;min-height:2.5rem;transition:.3s;color:var(--gold);}
.ball{width:clamp(220px,20vw,300px);height:clamp(220px,20vw,300px);border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,var(--gold) 45%,#b45309);display:flex;align-items:center;justify-content:center;font-size:clamp(5rem,10vw,7rem);font-weight:900;color:var(--dark);box-shadow:inset -15px -25px 40px rgba(0,0,0,.25),0 35px 70px rgba(0,0,0,.55);position:relative;}
.ball.animate{animation:spinBounce 1.15s cubic-bezier(.34,1.56,.64,1);}
@keyframes spinBounce{0%{transform:translate(var(--x),var(--y)) scale(.2) rotate(0);opacity:0}65%{transform:translate(0,-20px) scale(1.1) rotate(540deg);opacity:1}100%{transform:none rotate(720deg);}}

.controls{display:flex;gap:1rem;margin-top:1rem;}
button{padding:.9rem 1.2rem;font-size:1.1rem;font-weight:700;border-radius:14px;border:none;cursor:pointer;background:linear-gradient(135deg,#818cf8,#22d3ee);color:#020617;transition:.25s ease;}
button.active{background:linear-gradient(135deg,var(--gold),var(--amber));box-shadow:0 0 18px rgba(250,204,21,.7);}
button:active{transform:scale(.96);}

/* BOARD */
.board{display:grid;grid-template-columns:repeat(10,1fr);gap:.7rem;width:100%;max-width:1200px;}
.cell{aspect-ratio:1;border-radius:50%;background:rgba(255,255,255,.25);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:clamp(1.5rem,2.5vw,2.2rem);}
.cell.hit{background:radial-gradient(circle,var(--gold),var(--amber));color:#1e293b;animation:pop .4s ease;}
@keyframes pop{from{transform:scale(.6)}to{transform:scale(1.1)}}

/* CONFETTI WORDS */
.confetti{position:absolute;font-size:clamp(1rem,2vw,2.2rem);font-weight:800;color:var(--gold);pointer-events:none;animation:floatUp 2.5s ease forwards;}
@keyframes floatUp{0%{opacity:1;transform:translateY(0) rotate(0deg);}100%{opacity:0;transform:translateY(-120px) rotate(360deg);}}

.particle{position:absolute;width:6px;height:6px;border-radius:50%;pointer-events:none;animation:particleAnim 1s linear forwards;}
@keyframes particleAnim{0%{opacity:1;transform:translate(0,0) scale(1);}100%{opacity:0;transform:translate(var(--dx),var(--dy)) scale(0);}}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;z-index:10;}
.modal.show{display:flex}
.modal-box{background:#111827;padding:2rem;border-radius:20px;text-align:center;width:90%;max-width:380px;}
.modal-actions{display:flex;gap:1rem;margin-top:1.5rem}
.modal-actions button{flex:1}

/* TV MODE LARGE NUMBER */
.tv-number{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(6rem,15vw,12rem);font-weight:900;color:var(--gold);pointer-events:none;text-shadow:0 0 20px rgba(255,255,255,.5);z-index:5;}

@media(max-width:1100px){.board{grid-template-columns:repeat(8,1fr)}}
@media(max-width:800px){.board{grid-template-columns:repeat(5,1fr)}}
@media(max-width:500px){.board{grid-template-columns:repeat(4,1fr)}}
</style>
</head>
<body>
<div class="bg"></div>

<div class="app">
    <div id="status" class="status">üéâ Tambola Live</div>
    <div id="ball" class="ball">--</div>
    <div class="tv-number" id="tvNumber"></div>
    <div class="controls">
        <button id="play">‚ñ∂ Play</button>
        <button id="pause">‚è∏ Pause</button>
        <button id="reset">üîÅ Reset</button>
    </div>
    <div id="board" class="board"></div>
</div>

<!-- RESET MODAL -->
<div id="modal" class="modal">
    <div class="modal-box">
        <p>Are you sure you want to reset the game?</p>
        <div class="modal-actions">
            <button id="yes">Yes</button>
            <button id="no">Cancel</button>
        </div>
    </div>
</div>

<script>
const TOTAL=90,INTERVAL=5500;
let picked=new Set(),timer=null,running=false;
const board=document.getElementById("board");
const ball=document.getElementById("ball");
const tvNumber=document.getElementById("tvNumber");
const status=document.getElementById("status");
const playBtn=play,pauseBtn=pause,resetBtn=reset;
const modal=document.getElementById("modal");
const yesBtn=document.getElementById("yes"),noBtn=document.getElementById("no");

const phrases=["üé≤ Next number coming!","üçÄ Lucky number soon!","üîî Eyes on the board!","üéâ Get ready!","üî• Here we go!"];
const luckWords=["Lucky!","Your Time!","Great!","Almost!","Fortune!","Nice!"];

/* INIT BOARD */
for(let i=1;i<=TOTAL;i++){
    const c=document.createElement("div");
    c.className="cell";c.id="c"+i;c.textContent=i;
    board.appendChild(c);
}

/* DRUM SOUND */
const ctx=new AudioContext();
function drum(){
    const o=ctx.createOscillator(),g=ctx.createGain();
    o.type="triangle";o.frequency.value=110;o.connect(g);g.connect(ctx.destination);
    o.start();g.gain.exponentialRampToValueAtTime(.0001,ctx.currentTime+.4);
}

/* RANDOM ENTRY FOR BALL */
function randomEntry(){
    const d=360;
    const arr=[[-d,0],[d,0],[0,-d],[0,d]];
    return arr[Math.floor(Math.random()*4)];
}

/* CONFETTI AND PARTICLES */
function showLuck(){
    const word=luckWords[Math.floor(Math.random()*luckWords.length)];
    const span=document.createElement("div");span.className="confetti";span.textContent=word;
    document.body.appendChild(span);
    span.style.left=Math.random()*window.innerWidth+"px";
    setTimeout(()=>span.remove(),2500);

    for(let i=0;i<20;i++){
        const p=document.createElement("div");p.className="particle";
        const angle=Math.random()*2*Math.PI;
        const radius=Math.random()*80+30;
        p.style.setProperty("--dx",radius*Math.cos(angle)+"px");
        p.style.setProperty("--dy",radius*Math.sin(angle)+"px");
        p.style.backgroundColor=`hsl(${Math.random()*360},80%,60%)`;
        p.style.left=window.innerWidth/2+"px";
        p.style.top=window.innerHeight/2+"px";
        document.body.appendChild(p);
        setTimeout(()=>p.remove(),1000);
    }
}

/* PICK LOGIC */
function pick(){
    if(picked.size===TOTAL){stop();return;}
    if(Math.random()<0.15){status.textContent=phrases[Math.floor(Math.random()*phrases.length)];showLuck();}
    drum();
    setTimeout(()=>{
        let n;do{n=Math.ceil(Math.random()*TOTAL)}while(picked.has(n));
        picked.add(n);
        document.getElementById("c"+n).classList.add("hit");
        const [x,y]=randomEntry();
        ball.style.setProperty("--x",x+"px");
        ball.style.setProperty("--y",y+"px");
        ball.classList.remove("animate");void ball.offsetWidth;
        ball.textContent=n;ball.classList.add("animate");
        tvNumber.textContent=n;
        status.textContent=`‚úÖ Number ${n}`;
        speechSynthesis.speak(new SpeechSynthesisUtterance(n));
        showLuck();
    },1200);
}

/* CONTROLS */
function start(){if(running)return;running=true;playBtn.classList.add("active");pauseBtn.classList.remove("active");timer=setInterval(pick,INTERVAL);}
function stop(){clearInterval(timer);running=false;pauseBtn.classList.add("active");playBtn.classList.remove("active");}
function resetGame(){stop();picked.clear();ball.textContent="--";tvNumber.textContent="";status.textContent="üéâ Tambola Live";document.querySelectorAll(".cell").forEach(c=>c.classList.remove("hit"));}

/* MODAL */
resetBtn.onclick=()=>modal.classList.add("show");
noBtn.onclick=()=>modal.classList.remove("show");
yesBtn.onclick=()=>{modal.classList.remove("show");resetGame();};

playBtn.onclick=start;
pauseBtn.onclick=stop;
</script>
</body>
</html>
